cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set,cex = .7)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set,cex = .5)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",cex = .5,main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",cex = 0.5,main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",cex = "0.5",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",cex = 0.5,main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",cex = 0.5,main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",cex = .5,xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",cex = .5,xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",cex.main = .5,xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",cex.main = .8,xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
# Planck's constant [Js]
h=6.62606896e-34
# speed of light [m/s]
c=2.99792458e8
# Boltzman constant [J/K]
k=1.3806504e-23
# temperature used for sun in example [K]
T = 5800
# the following lambda will not be used, this is for the entire spectrum of visible light
#lambda = seq(3.4e-7,8.05e-7, by=1e-10)
# this lambda sequence is for the band of wavelengths used in the example problem [m]
lambda = seq(6.0e-7,6.05e-7, by=1e-10)
# Equation 1
y = (h*c)/(lambda*k*T)
plot(lambda,y,xlab='Wavelength (m)',ylab='Plancks Exponential',main='Part #1: Equation 1')
I=((2*pi)*(h)*(c**2)/((lambda**5)*(exp(y)-1)))
plot(lambda,I,xlab='Wavelength (m)',ylab='Spectral Emittance (W/m^2/m)',main='Part #1: Equation 2')
Ilambda = (I*(max(lambda)-min(lambda)))*1e-6
plot(I,Ilambda,xlab='Spectral Emittance (W/m^2/m)',ylab='Intensity (MW/m^2)',main='Part #1: Equation 3')
lambda_nm=lambda*1e+9
I_new = I/1e+9
plot(lambda_nm,I_new,xlab='Wavelength (nm)',ylab='Spectral Emittance (W/m^2/nm)',main='Part #2: Equation 1')
# Open the librarys that are needed to do the following steps.
#knitr::opts_chunk$set(echo = TRUE)
library(readr)
install.packages("readr")
# Planck's constant [Js]
h=6.62606896e-34
# speed of light [m/s]
c=2.99792458e8
# Boltzman constant [J/K]
k=1.3806504e-23
# temperature used for sun in example [K]
T = 5800
# the following lambda will not be used, this is for the entire spectrum of visible light
#lambda = seq(3.4e-7,8.05e-7, by=1e-10)
# this lambda sequence is for the band of wavelengths used in the example problem [m]
lambda = seq(6.0e-7,6.05e-7, by=1e-10)
# Equation 1
y = (h*c)/(lambda*k*T)
plot(lambda,y,xlab='Wavelength (m)',ylab='Plancks Exponential',main='Part #1: Equation 1')
# Planck's constant [Js]
h=6.62606896e-34
# speed of light [m/s]
c=2.99792458e8
# Boltzman constant [J/K]
k=1.3806504e-23
# temperature used for sun in example [K]
T = 5800
# the following lambda will not be used, this is for the entire spectrum of visible light
#lambda = seq(3.4e-7,8.05e-7, by=1e-10)
# this lambda sequence is for the band of wavelengths used in the example problem [m]
lambda = seq(6.0e-7,6.05e-7, by=1e-10)
# Equation 1
y = (h*c)/(lambda*k*T)
plot(lambda,y,xlab='Wavelength (m)',ylab='Plancks Exponential',main='Part #1: Equation 1')
I=((2*pi)*(h)*(c**2)/((lambda**5)*(exp(y)-1)))
plot(lambda,I,xlab='Wavelength (m)',ylab='Spectral Emittance (W/m^2/m)',main='Part #1: Equation 2')
Ilambda = (I*(max(lambda)-min(lambda)))*1e-6
plot(I,Ilambda,xlab='Spectral Emittance (W/m^2/m)',ylab='Intensity (MW/m^2)',main='Part #1: Equation 3')
lambda_nm=lambda*1e+9
I_new = I/1e+9
plot(lambda_nm,I_new,xlab='Wavelength (nm)',ylab='Spectral Emittance (W/m^2/nm)',main='Part #2: Equation 1')
# Open the librarys that are needed to do the following steps.
#knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",cex.main = .8,xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
# Blackbody Integration (emittance)
bb_E_integ = sum(I_new * 0.1)
cat("Blackbody value of total power: ", bb_E_integ, "W/m^2")
# Observed Integration (irradiance)
obs_I_integ = sum(irradiance_data)
# Planck's constant [Js]
h=6.62606896e-34
# speed of light [m/s]
c=2.99792458e8
# Boltzman constant [J/K]
k=1.3806504e-23
# temperature used for sun in example [K]
T = 5800
# the following lambda will not be used, this is for the entire spectrum of visible light
#lambda = seq(3.4e-7,8.05e-7, by=1e-10)
# this lambda sequence is for the band of wavelengths used in the example problem [m]
lambda = seq(6.0e-7,6.05e-7, by=1e-10)
# Equation 1
y = (h*c)/(lambda*k*T)
plot(lambda,y,xlab='Wavelength (m)',ylab='Plancks Exponential',main='Part #1: Equation 1')
I=((2*pi)*(h)*(c**2)/((lambda**5)*(exp(y)-1)))
plot(lambda,I,xlab='Wavelength (m)',ylab='Spectral Emittance (W/m^2/m)',main='Part #1: Equation 2')
Ilambda = (I*(max(lambda)-min(lambda)))*1e-6
plot(I,Ilambda,xlab='Spectral Emittance (W/m^2/m)',ylab='Intensity (MW/m^2)',main='Part #1: Equation 3')
lambda_nm=lambda*1e+9
I_new = I/1e+9
plot(lambda_nm,I_new,xlab='Wavelength (nm)',ylab='Spectral Emittance (W/m^2/nm)',main='Part #2: Equation 1')
# Open the librarys that are needed to do the following steps.
#knitr::opts_chunk$set(echo = TRUE)
library(readr)
install.packages("hms")
install.packages("rlang")
# Planck's constant [Js]
h=6.62606896e-34
# speed of light [m/s]
c=2.99792458e8
# Boltzman constant [J/K]
k=1.3806504e-23
# temperature used for sun in example [K]
T = 5800
# the following lambda will not be used, this is for the entire spectrum of visible light
#lambda = seq(3.4e-7,8.05e-7, by=1e-10)
# this lambda sequence is for the band of wavelengths used in the example problem [m]
lambda = seq(6.0e-7,6.05e-7, by=1e-10)
# Equation 1
y = (h*c)/(lambda*k*T)
plot(lambda,y,xlab='Wavelength (m)',ylab='Plancks Exponential',main='Part #1: Equation 1')
I=((2*pi)*(h)*(c**2)/((lambda**5)*(exp(y)-1)))
plot(lambda,I,xlab='Wavelength (m)',ylab='Spectral Emittance (W/m^2/m)',main='Part #1: Equation 2')
Ilambda = (I*(max(lambda)-min(lambda)))*1e-6
plot(I,Ilambda,xlab='Spectral Emittance (W/m^2/m)',ylab='Intensity (MW/m^2)',main='Part #1: Equation 3')
lambda_nm=lambda*1e+9
I_new = I/1e+9
plot(lambda_nm,I_new,xlab='Wavelength (nm)',ylab='Spectral Emittance (W/m^2/nm)',main='Part #2: Equation 1')
# Open the librarys that are needed to do the following steps.
#knitr::opts_chunk$set(echo = TRUE)
library(readr)
install.packages("hms")
# Some cleaning
data<-tab[2:482,] # select rows
data<-data %>% rename(waveL=Timestamp) # rename column
# Planck's constant [Js]
h=6.62606896e-34
# speed of light [m/s]
c=2.99792458e8
# Boltzman constant [J/K]
k=1.3806504e-23
# temperature used for sun in example [K]
T = 5800
# the following lambda will not be used, this is for the entire spectrum of visible light
#lambda = seq(3.4e-7,8.05e-7, by=1e-10)
# this lambda sequence is for the band of wavelengths used in the example problem [m]
lambda = seq(6.0e-7,6.05e-7, by=1e-10)
# Equation 1
y = (h*c)/(lambda*k*T)
plot(lambda,y,xlab='Wavelength (m)',ylab='Plancks Exponential',main='Part #1: Equation 1')
I=((2*pi)*(h)*(c**2)/((lambda**5)*(exp(y)-1)))
plot(lambda,I,xlab='Wavelength (m)',ylab='Spectral Emittance (W/m^2/m)',main='Part #1: Equation 2')
Ilambda = (I*(max(lambda)-min(lambda)))*1e-6
plot(I,Ilambda,xlab='Spectral Emittance (W/m^2/m)',ylab='Intensity (MW/m^2)',main='Part #1: Equation 3')
lambda_nm=lambda*1e+9
I_new = I/1e+9
plot(lambda_nm,I_new,xlab='Wavelength (nm)',ylab='Spectral Emittance (W/m^2/nm)',main='Part #2: Equation 1')
# Open the librarys that are needed to do the following steps.
#knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(dplyr)
library(ggplot2)
# Read in the data
tab<-read_csv("https://raw.githubusercontent.com/Agron508/Homework/master/SS-110_1010_12918noon.csv")
# Some cleaning
data<-tab[2:482,] # select rows
data<-data %>% rename(waveL=Timestamp) # rename column
data$waveL<-as.numeric(as.vector(data$waveL)) # to get a x_continous scale, data need to be numeric not factor
#Plot the Spectral Irradiance as a function of wavelength (nm)
time<-data[,82]# here I just pick a column randomly
#class(time)
# time has to be converted into numeric
time<-as.numeric(unlist(time)) # I used unlist to convert all the element to a single numeric vector
ggplot(data=data,aes(x=waveL,y=time))+
geom_line() +
scale_x_continuous(breaks = round(seq(min(data$waveL), max(data$waveL), by = 100),1)) +
scale_y_continuous(breaks = round(seq(min(time), max(time), by = 0.005),1)) +
xlab("wavelength (nm)") +
ylab("Spectral Irradiance (W/m2/micrometer)")
irradiance = time*1e+3
wavelength = data$waveL
plot(wavelength,irradiance,type="o",xlab='Wavelength (nm)',ylab='Spectral Irradiance (W/m^2/nm)',main='Part #2: Collected Data')
irradiance_data = irradiance[261:266]
band_data = data$waveL[261:266]
plot(band_data,irradiance_data,type="o",xlab='Wavelength (nm)',ylab='Spectral Irradiance (W/m^2/nm)',main='Part #2: Collected Data')
# Blackbody Integration (emittance)
bb_E_integ = sum(I_new * 0.1)
cat("Blackbody value of total power: ", bb_E_integ, "W/m^2")
# Observed Integration (irradiance)
obs_I_integ = sum(irradiance_data)
cat("Observed alue of total power: ", obs_I_integ, "W/m^2")
#Intensity of radiation reaching the eye in order for the human eye to percieve light.
I = 4.0e-11 # Units - W/m^2
#Plancks Constant
h = 6.63e-34 # Units - J*s
#Speed of light in a vacuum
c = 3.0e8 # Units - m/s
#Diameter of a human pupil
d = seq(2,8,by = 1) # Units - mm
#Convert the diameter to meters
d = d*1e-3 # Units - m
#Calculate the pupil area
pupil_area = pi*((d/2)^2) # Units - m^2
#Power reaching the eye
Power_reach_eye = I*pupil_area # Units - W
#Range of wavelength in the visible spectrum
lam_pupil = seq(380e-9,780e-9,by = 1e-9) #Units - m
#Energy of a photon
e = (h*c)/lam_pupil
#Create Vector for Calculations
Photons_reach_eye = matrix(0,401,7)
#Number of photons reaching the eye
for(i in 1:401){
for(j in 1:7){
Photons_reach_eye[i,j] = Power_reach_eye[j]/e[i] #Units - photons/s
}
}
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",cex.main = .8,xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
#Because we can calculate the number of photons by taking the Intensity of the Radiation divided by the energy of a photon at that wavelength, we can take the intensity measured divided by the power at that wavelength and come up with a total number of photons!
#Because we can calculate the number of photons by taking the Intensity of the Radiation in our pupil divided by the energy of a photon at that wavelength, we can take the intensity measured divided by the power at that wavelength and come up with a total number of photons!
#Lets assume a pupil size of 6mm
Intensity_pupil = time * pupil_area[5]
#Because we can calculate the number of photons by taking the Intensity of the Radiation in our pupil divided by the energy of a photon at that wavelength, we can take the intensity measured divided by the power at that wavelength and come up with a total number of photons!
#Lets assume a pupil size of 6mm
#Calculating the Intensity of radiation hitting your eye
Intensity_pupil = time * pupil_area[5] #Units - W
#Calculating the photon energy of the wavelengths that we measured
e_meas = (h*c)/(wavelength*1e-9) #Units - J
#Now to calculate the number of photons that are making it to our eyes
Photons_reach_eye_measured = Intensity_pupil/e_meas
#Because we can calculate the number of photons by taking the Intensity of the Radiation in our pupil divided by the energy of a photon at that wavelength, we can take the intensity measured divided by the power at that wavelength and come up with a total number of photons!
#Lets assume a pupil size of 6mm
#Calculating the Intensity of radiation hitting your eye
Intensity_pupil = time * pupil_area[5] #Units - W
#Calculating the photon energy of the wavelengths that we measured
e_meas = (h*c)/(wavelength*1e-9) #Units - J
#Now to calculate the number of photons that are making it to our eyes
Photons_reach_eye_measured = Intensity_pupil/e_meas
#If we sum up all of the photons from every wavelength, we see about how many photons per second are hitting our eyes
Total_Photons = sum(Photons_reach_eye_measured)
# Planck's constant [Js]
h=6.62606896e-34
# speed of light [m/s]
c=2.99792458e8
# Boltzman constant [J/K]
k=1.3806504e-23
# temperature used for sun in example [K]
T = 5800
# the following lambda will not be used, this is for the entire spectrum of visible light
#lambda = seq(3.4e-7,8.05e-7, by=1e-10)
# this lambda sequence is for the band of wavelengths used in the example problem [m]
lambda = seq(6.0e-7,6.05e-7, by=1e-10)
# Equation 1
y = (h*c)/(lambda*k*T)
plot(lambda,y,xlab='Wavelength (m)',ylab='Plancks Exponential',main='Part #1: Equation 1')
I=((2*pi)*(h)*(c**2)/((lambda**5)*(exp(y)-1)))
plot(lambda,I,xlab='Wavelength (m)',ylab='Spectral Emittance (W/m^2/m)',main='Part #1: Equation 2')
Ilambda = (I*(max(lambda)-min(lambda)))*1e-6
plot(I,Ilambda,xlab='Spectral Emittance (W/m^2/m)',ylab='Intensity (MW/m^2)',main='Part #1: Equation 3')
lambda_nm=lambda*1e+9
I_new = I/1e+9
plot(lambda_nm,I_new,xlab='Wavelength (nm)',ylab='Spectral Emittance (W/m^2/nm)',main='Part #2: Equation 1')
# Open the librarys that are needed to do the following steps.
#knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(dplyr)
library(ggplot2)
# Read in the data
tab<-read_csv("https://raw.githubusercontent.com/Agron508/Homework/master/SS-110_1010_12918noon.csv")
# Some cleaning
data<-tab[2:482,] # select rows
data<-data %>% rename(waveL=Timestamp) # rename column
data$waveL<-as.numeric(as.vector(data$waveL)) # to get a x_continous scale, data need to be numeric not factor
#Plot the Spectral Irradiance as a function of wavelength (nm)
time<-data[,82]# here I just pick a column randomly
#class(time)
# time has to be converted into numeric
time<-as.numeric(unlist(time)) # I used unlist to convert all the element to a single numeric vector
ggplot(data=data,aes(x=waveL,y=time))+
geom_line() +
scale_x_continuous(breaks = round(seq(min(data$waveL), max(data$waveL), by = 100),1)) +
scale_y_continuous(breaks = round(seq(min(time), max(time), by = 0.005),1)) +
xlab("wavelength (nm)") +
ylab("Spectral Irradiance (W/m2/micrometer)")
irradiance = time*1e+3
wavelength = data$waveL
plot(wavelength,irradiance,type="o",xlab='Wavelength (nm)',ylab='Spectral Irradiance (W/m^2/nm)',main='Part #2: Collected Data')
irradiance_data = irradiance[261:266]
band_data = data$waveL[261:266]
plot(band_data,irradiance_data,type="o",xlab='Wavelength (nm)',ylab='Spectral Irradiance (W/m^2/nm)',main='Part #2: Collected Data')
# Blackbody Integration (emittance)
bb_E_integ = sum(I_new * 0.1)
cat("Blackbody value of total power: ", bb_E_integ, "W/m^2")
# Observed Integration (irradiance)
obs_I_integ = sum(irradiance_data)
cat("Observed value of total power: ", obs_I_integ, "W/m^2")
#Intensity of radiation reaching the eye in order for the human eye to percieve light.
I = 4.0e-11 # Units - W/m^2
#Plancks Constant
h = 6.63e-34 # Units - J*s
#Speed of light in a vacuum
c = 3.0e8 # Units - m/s
#Diameter of a human pupil
d = seq(2,8,by = 1) # Units - mm
#Convert the diameter to meters
d = d*1e-3 # Units - m
#Calculate the pupil area
pupil_area = pi*((d/2)^2) # Units - m^2
#Power reaching the eye
Power_reach_eye = I*pupil_area # Units - W
#Range of wavelength in the visible spectrum
lam_pupil = seq(380e-9,780e-9,by = 1e-9) #Units - m
#Energy of a photon
e = (h*c)/lam_pupil #Units - J
#Create Vector for Calculations
Photons_reach_eye = matrix(0,401,7)
#Number of photons reaching the eye
for(i in 1:401){
for(j in 1:7){
Photons_reach_eye[i,j] = Power_reach_eye[j]/e[i] #Units - photons/s
}
}
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = Photons_reach_eye[,1], y2 = Photons_reach_eye[,2], y3 = Photons_reach_eye[,3], y4 = Photons_reach_eye[,4], y5 = Photons_reach_eye[,5], y6 = Photons_reach_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,Photons_reach_eye,type = "l",main = "Photons That Reach The Human Eye at Different Wavelengths with Different Pupil Sizes",cex.main = .8,xlab = "Wavelength (m)",ylab = "Number of Photons",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],Photons_reach_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
#Because we can calculate the number of photons by taking the Intensity of the Radiation in our pupil divided by the energy of a photon at that wavelength, we can take the intensity measured divided by the power at that wavelength and come up with a total number of photons!
#Lets assume a pupil size of 6mm
#Calculating the Intensity of radiation hitting your eye
Intensity_pupil = time * pupil_area[5] #Units - W
#Calculating the photon energy of the wavelengths that we measured
e_meas = (h*c)/(wavelength*1e-9) #Units - J
#Now to calculate the number of photons that are making it to our eyes
Photons_reach_eye_measured = Intensity_pupil/e_meas#Units - Photons/s
#If we sum up all of the photons from every wavelength, we see about how many photons per second are hitting our eyes
Total_Photons = sum(Photons_reach_eye_measured)#Units - Photons/s
cat("Total Photons Reaching Our Eyes With Our Measured Data:", Total_Photons," Photons/s")
# Some cleaning
data<-tab[2:482,] # select rows
data<-data %>% rename(waveL=Timestamp) # rename column
data$waveL<-as.numeric(as.vector(data$waveL)) # to get a x_continous scale, data need to be numeric not factor
#Plot the Spectral Irradiance as a function of wavelength (nm)
time<-data[,82]# here I just pick a column randomly
#class(time)
# time has to be converted into numeric
time<-as.numeric(unlist(time)) # I used unlist to convert all the element to a single numeric vector
ggplot(data=data,aes(x=waveL,y=time))+
geom_line() +
scale_x_continuous(breaks = round(seq(min(data$waveL), max(data$waveL), by = 100),1)) +
scale_y_continuous(breaks = round(seq(min(time), max(time), by = 0.005),1)) +
xlab("wavelength (nm)") +
ylab(expression(paste("Spectral Irradiance (W/m2/",mu,"")))
# Some cleaning
data<-tab[2:482,] # select rows
data<-data %>% rename(waveL=Timestamp) # rename column
data$waveL<-as.numeric(as.vector(data$waveL)) # to get a x_continous scale, data need to be numeric not factor
#Plot the Spectral Irradiance as a function of wavelength (nm)
time<-data[,82]# here I just pick a column randomly
#class(time)
# time has to be converted into numeric
time<-as.numeric(unlist(time)) # I used unlist to convert all the element to a single numeric vector
ggplot(data=data,aes(x=waveL,y=time))+
geom_line() +
scale_x_continuous(breaks = round(seq(min(data$waveL), max(data$waveL), by = 100),1)) +
scale_y_continuous(breaks = round(seq(min(time), max(time), by = 0.005),1)) +
xlab("wavelength (nm)") +
ylab(expression(paste("Spectral Irradiance (W/m2/",mu,")")))
# Some cleaning
data<-tab[2:482,] # select rows
data<-data %>% rename(waveL=Timestamp) # rename column
data$waveL<-as.numeric(as.vector(data$waveL)) # to get a x_continous scale, data need to be numeric not factor
#Plot the Spectral Irradiance as a function of wavelength (nm)
time<-data[,82]# here I just pick a column randomly
#class(time)
# time has to be converted into numeric
time<-as.numeric(unlist(time)) # I used unlist to convert all the element to a single numeric vector
ggplot(data=data,aes(x=waveL,y=time))+
geom_line() +
scale_x_continuous(breaks = round(seq(min(data$waveL), max(data$waveL), by = 100),1)) +
scale_y_continuous(breaks = round(seq(min(time), max(time), by = 0.005),1)) +
xlab("wavelength (nm)") +
ylab(expression(paste("Spectral Irradiance (W/m2/",mu,"m)")))
install.packages("rmarkdown")
install.packages("rprojroot")
install.packages(c("digest", "htmltools", "jsonlite", "knitr", "lazyeval", "Rcpp", "readr", "reshape2", "scales", "stringi", "stringr", "tibble", "yaml"))
#Lets convert these numbers into PPFD to be able to compare them to what we know
PPFD_eye = Photons_reach_eye /(6.02e23) * 1e6 / pupil_area
View(PPFD_eye)
View(PPFD_eye)
#Lets convert these numbers into PPFD to be able to compare them to what we know
PPFD_eye = Photons_reach_eye /(6.02e23) * 1e6 / pupil_area
#Now let's plot the results of this, like we plotted the others
library(ggplot2)
#Set data up in a frame to plot
data_pup = data.frame(x = lam_pupil,y1 = PPFD_eye[,1], y2 = PPFD_eye[,2], y3 = PPFD_eye[,3], y4 = PPFD_eye[,4], y5 = PPFD_eye[,5], y6 = PPFD_eye[,6], y7 = Photons_reach_eye[,7])
#Plotting
col_set = rainbow(ncol(Photons_reach_eye))
matplot(lam_pupil,PPFD_eye,type = "l",main = "Photons Flux Density at Different Wavelengths with Different Pupil Sizes",cex.main = .8,xlab = "Wavelength (m)",ylab = "Photon Flux Density",lty = "solid", lwd = "2",col = col_set)
leg.txt <- c("Pupil Size = 2mm","Pupil Size = 3mm","Pupil Size = 4mm","Pupil Size = 5mm","Pupil Size = 6mm","Pupil Size = 7mm","Pupil Size = 8mm")
cex = .5
legend(lam_pupil[1],PPFD_eye[401,7],leg.txt,cex = .5,lwd = 2, col = col_set)
